@model AccountManagementSystem.Models.Person

<h1>Delete Person</h1>

<h3>Are you sure you want to delete this person?</h3>
<div>
    <h4>@Model.surname, @Model.name</h4>
    <p><strong>ID Number:</strong> @Model.id_number</p>
    <p><strong>Code:</strong> @Model.code</p>
    
    @if (Model.Accounts != null && Model.Accounts.Any())
    {
        <div class="alert alert-warning">
            <strong>Warning!</strong> This person has @Model.Accounts.Count account(s). 
            Only persons with no accounts or where all accounts are closed may be deleted.
        </div>
    }
</div>

<form id="deleteForm" asp-action="Delete" method="post">
    <input type="hidden" asp-for="code" />
    <button type="button" onclick="showDeleteConfirmation('deleteForm')" class="btn btn-danger">Delete</button>
    <a asp-action="Index" class="btn btn-secondary">Cancel</a>
</form>

<partial name="_DeleteConfirmation" />